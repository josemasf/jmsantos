---
import MainLayout from "../layouts/MainLayout.astro";

import JobPreview from "../components/JobPreview.astro";
import Heading from "../components/Heading.astro";

type Job = {
  frontmatter: {
    from: string;
    [key: string]: any;
  };
  [key: string]: any;
};

const jobs = Object.values(import.meta.glob("./jobs/**/*.md", { eager: true }) as Record<string, Job>)
  .filter(({ frontmatter }) => !!frontmatter.from)
  .sort(
    (a, b) =>
      new Date((b as Job).frontmatter.from).valueOf() -
      new Date((a as Job).frontmatter.from).valueOf()
  );

const description =
  "Arquitecto orientado al Frontend, aunque mis primeros 13 años laborales estuve desarrollando aplicaciones web con C#, por lo que tengo un alto conocimiento sobre arquitectura backend.";

const skills = [
  "Vue", "Astro", "TypeScript", "JavaScript", "Inteligencia Artificial", "Vibe Coding", "Testing", "Tailwind CSS", "Architecture", "Microfrontends", "Serverless"
];
---
<MainLayout title="Sobre mi | José María Santos" description={description}>
  <Heading bgImage="/assets/about-me.jpeg">
    <span slot="title">Sobre mi</span>
  </Heading>
  
  <div class="container mx-auto px-8 md:px-12 lg:px-20">
    <!-- Hero Section -->
    <div class="relative -mt-20 flex flex-col items-center">
      <img 
        src="/assets/yo.webp" 
        alt="José María Santos" 
        class="w-40 h-40 rounded-full border-4 border-white dark:border-gray-800 shadow-xl object-cover"
      />
      <div class="text-center mt-4">
        <h2 class="text-4xl font-bold dark:text-white">José María Santos</h2>
        <p class="text-xl text-indigo-600 dark:text-indigo-400 font-medium">Frontend Tech Leader</p>
        
        <div class="flex items-center justify-center gap-4 mt-2 text-gray-600 dark:text-gray-400">
          <span class="flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
            </svg>
            Córdoba, España
          </span>
          <span class="flex items-center gap-1 text-sm md:text-base">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57c0 .16-.013.319-.04.475a8.03 8.03 0 01-1.808 3.512 8.023 8.023 0 01-3.031 2.137 8.09 8.09 0 01-4.242 0 8.022 8.022 0 01-3.031-2.137 8.03 8.03 0 01-1.808-3.512A4.405 4.405 0 012 11.57V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd" />
            </svg>
            AIDA
          </span>
        </div>
      </div>
    </div>

    <!-- Content Sections -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mt-16">
      <!-- Left Column: Bio & Experience -->
      <div class="md:col-span-2 space-y-12">
        <section>
          <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
            <span class="w-8 h-1 bg-indigo-500 rounded-full inline-block"></span>
            Biografía
          </h3>
          <div class="text-lg text-gray-700 dark:text-gray-300 space-y-4 leading-relaxed">
            <p>
              Arquitecto orientado al Frontend, aunque mis primeros 13 años laborales
              estuve desarrollando aplicaciones web con C#, por lo que tengo un alto
              conocimiento sobre arquitectura backend.
            </p>

            <p>
              Durante mi vida laboral he tenido la oportunidad de desarrollar tanto
              proyectos ecommerce como aplicaciones web para la gestión y
              administración de empresas. Tengo experiencia en integración de
              servicios de terceros para la obtención de datos o sincronizanción de
              servicios.
            </p>

            <p>
              Me considero una persona resolutiva e implicada en cada una de las
              tareas que realizo en mi día a día, implicándome activamente en resolver
              problemas complejos.
            </p>

            <p>
              Tengo mucha curiosidad por investigar nuevas arquitecturas y técnicas
              modernas, intentando aplicarlas en mi día a día o elaborando pruebas de
              concepto personales para profundizar en su estudio. Me gusta aprender y enseñar lo aprendido siempre que tengo ocasión.
            </p>
          </div>
        </section>

        <section>
          <h3 class="text-2xl font-bold mb-8 flex items-center gap-2">
            <span class="w-8 h-1 bg-indigo-500 rounded-full inline-block"></span>
            Experiencia
          </h3>
          <ol class="relative border-l-2 border-indigo-100 dark:border-indigo-900 ml-3">
            {
              jobs.map((job) => (
                <li class="mb-10 ml-6">
                  <JobPreview job={job} />
                </li>
              ))
            }
          </ol>
        </section>
      </div>

      <!-- Right Column: Skills & Info -->
      <div class="space-y-10">
        <section class="bg-indigo-50 dark:bg-gray-700/30 p-8 rounded-2xl">
          <h3 class="text-xl font-bold mb-6">Habilidades</h3>
          <div class="flex flex-wrap gap-2">
            {skills.map(skill => (
              <span class="px-3 py-1 bg-white dark:bg-gray-800 text-indigo-700 dark:text-indigo-300 rounded-full text-sm font-medium shadow-sm border border-indigo-100 dark:border-indigo-900">
                {skill}
              </span>
            ))}
          </div>
        </section>

        <section class="bg-gray-50 dark:bg-gray-700/30 p-8 rounded-2xl border border-gray-100 dark:border-gray-800">
          <h3 class="text-xl font-bold mb-4">Intereses</h3>
          <ul class="space-y-3 text-gray-600 dark:text-gray-400">
            <li class="flex items-center gap-3">
              <span class="w-2 h-2 bg-indigo-500 rounded-full"></span>
              Web Performance
            </li>
            <li class="flex items-center gap-3">
              <span class="w-2 h-2 bg-indigo-500 rounded-full"></span>
              UI/UX Design
            </li>
            <li class="flex items-center gap-3">
              <span class="w-2 h-2 bg-indigo-500 rounded-full"></span>
              Cloud Computing
            </li>
            <li class="flex items-center gap-3">
              <span class="w-2 h-2 bg-indigo-500 rounded-full"></span>
              Open Source
            </li>
          </ul>
        </section>
      </div>
    </div>
  </div>
  
  <div class="mt-20"></div>
</MainLayout>
